============================= test session starts ==============================
platform linux -- Python 3.13.11, pytest-9.0.0, pluggy-1.6.0 -- /home/vscode/.local/ha-venv/bin/python
cachedir: .pytest_cache
rootdir: /workspaces/kidschores-ha
configfile: pytest.ini
plugins: homeassistant-custom-component-0.13.300, typeguard-4.4.4, respx-0.22.0, github-actions-annotate-failures-0.3.0, unordered-0.7.0, socket-0.7.0, requests-mock-1.12.1, asyncio-1.3.0, aiohttp-1.1.0, pytest_freezer-0.4.9, cov-7.0.0, anyio-4.10.0, picked-0.5.1, syrupy-5.0.0, sugar-1.0.0, xdist-3.8.0, timeout-2.4.0
asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=function, asyncio_default_test_loop_scope=function
collecting ... collected 539 items

tests/archive/entity_naming_debug_2024/test_entity_names_phase2a.py::test_entity_names_with_translations PASSED [  0%]
tests/archive/entity_naming_debug_2024/test_entity_names_phase2a.py::test_calendar_has_translation_attributes PASSED [  0%]
tests/archive/entity_naming_debug_2024/test_entity_names_phase2a.py::test_select_has_translation_attributes PASSED [  0%]
tests/test_backup_essential_flows_fixed.py::test_backup_actions_all_navigation_paths[view_backups] PASSED [  0%]
tests/test_backup_essential_flows_fixed.py::test_backup_actions_all_navigation_paths[create_backup] PASSED [  0%]
tests/test_backup_essential_flows_fixed.py::test_backup_actions_all_navigation_paths[restore_backup] PASSED [  1%]
tests/test_backup_essential_flows_fixed.py::test_max_backup_retention_changes[3-5-2] PASSED [  1%]
tests/test_backup_essential_flows_fixed.py::test_max_backup_retention_changes[7-4-2] PASSED [  1%]
tests/test_backup_essential_flows_fixed.py::test_max_backup_retention_changes[0-3-2] PASSED [  1%]
tests/test_backup_essential_flows_fixed.py::test_view_backups_complete_flow PASSED [  1%]
tests/test_backup_essential_flows_fixed.py::test_create_backup_complete_flow PASSED [  2%]
tests/test_backup_essential_flows_fixed.py::test_delete_backup_confirm_step_exists[recovery-True] PASSED [  2%]
tests/test_backup_essential_flows_fixed.py::test_delete_backup_confirm_step_exists[reset-True] PASSED [  2%]
tests/test_backup_essential_flows_fixed.py::test_delete_backup_confirm_step_exists[manual-False] PASSED [  2%]
tests/test_backup_essential_flows_fixed.py::test_delete_backup_confirm_step_exists[pre-migration-False] PASSED [  2%]
tests/test_backup_essential_flows_fixed.py::test_delete_backup_confirm_step_method_exists PASSED [  2%]
tests/test_backup_essential_flows_fixed.py::test_confirm_restore_backup_step_method_exists PASSED [  3%]
tests/test_backup_essential_flows_fixed.py::test_backup_actions_menu_step_method_exists PASSED [  3%]
tests/test_backup_essential_flows_fixed.py::test_all_backup_methods_exist_on_handler PASSED [  3%]
tests/test_backup_essential_flows_fixed.py::test_backup_deletion_cancel_flow PASSED [  3%]
tests/test_backup_essential_flows_fixed.py::test_backup_restore_cancel_flow PASSED [  3%]
tests/test_backup_essential_flows_fixed.py::test_view_backups_no_files_scenario PASSED [  4%]
tests/test_backup_essential_flows_fixed.py::test_backup_delete_options_by_tag_type[recovery-True] PASSED [  4%]
tests/test_backup_essential_flows_fixed.py::test_backup_delete_options_by_tag_type[reset-True] PASSED [  4%]
tests/test_backup_essential_flows_fixed.py::test_backup_delete_options_by_tag_type[manual-False] PASSED [  4%]
tests/test_backup_essential_flows_fixed.py::test_backup_delete_options_by_tag_type[pre-migration-False] PASSED [  4%]
tests/test_badge_assignment_baseline.py::test_cumulative_badge_empty_assigned_to_evaluates_for_all_kids PASSED [  5%]
tests/test_badge_assignment_baseline.py::test_cumulative_badge_specific_kid_only_evaluates_for_that_kid PASSED [  5%]
tests/test_badge_assignment_noncumulative_baseline.py::test_daily_badge_empty_assigned_to_evaluates_for_all_kids PASSED [  5%]
tests/test_badge_assignment_noncumulative_baseline.py::test_daily_badge_specific_kid_only_evaluates_for_that_kid PASSED [  5%]
tests/test_badge_assignment_noncumulative_baseline.py::test_periodic_badge_empty_assigned_to_evaluates_for_all_kids PASSED [  5%]
tests/test_badge_assignment_noncumulative_baseline.py::test_periodic_badge_specific_kid_only_evaluates_for_that_kid PASSED [  5%]
tests/test_badge_assignment_noncumulative_baseline.py::test_special_occasion_badge_empty_assigned_to_evaluates_for_all_kids PASSED [  6%]
tests/test_badge_assignment_noncumulative_baseline.py::test_special_occasion_badge_specific_kid_only_evaluates_for_that_kid PASSED [  6%]
tests/test_badge_creation.py::TestBadgeCreation::test_create_cumulative_badge_via_options_flow PASSED [  6%]
tests/test_badge_creation.py::TestBadgeCreation::test_create_periodic_badge_via_options_flow PASSED [  6%]
tests/test_badge_creation.py::TestBadgeCreation::test_badge_creation_minimal_scenario PASSED [  6%]
tests/test_badge_creation.py::TestBadgeCreation::test_comprehensive_badge_creation_all_types PASSED [  7%]
tests/test_badge_migration_baseline.py::test_migration_adds_assigned_to_field_as_empty_list[migration_sample_v30] PASSED [  7%]
tests/test_badge_progress_initialization.py::test_badge_progress_initialized_on_assignment PASSED [  7%]
tests/test_badge_progress_initialization.py::test_badge_progress_cleaned_on_unassignment PASSED [  7%]
tests/test_badge_progress_initialization.py::test_badge_progress_removed_on_badge_deletion PASSED [  7%]
tests/test_badge_validation_baseline.py::test_assigned_to_empty_list_valid PASSED [  7%]
tests/test_badge_validation_baseline.py::test_assigned_to_valid_kid_ids PASSED [  8%]
tests/test_calendar_scenarios.py::test_non_recurring_chore_with_due_date_datetime PASSED [  8%]
tests/test_calendar_scenarios.py::test_non_recurring_chore_with_due_date_midnight PASSED [  8%]
tests/test_calendar_scenarios.py::test_daily_recurring_with_due_date PASSED [  8%]
tests/test_calendar_scenarios.py::test_daily_recurring_without_due_date_all_days PASSED [  8%]
tests/test_calendar_scenarios.py::test_daily_recurring_without_due_date_applicable_days PASSED [  9%]
tests/test_calendar_scenarios.py::test_weekly_recurring_with_due_date PASSED [  9%]
tests/test_config_flow.py::test_form_user_flow_success PASSED            [  9%]
tests/test_config_flow.py::test_form_user_flow_default_values PASSED     [  9%]
tests/test_config_flow.py::test_form_cannot_connect PASSED               [  9%]
tests/test_config_flow.py::test_form_already_configured PASSED           [ 10%]
tests/test_config_flow.py::test_form_user_flow_custom_labels PASSED      [ 10%]
tests/test_config_flow.py::test_form_empty_label_uses_default PASSED     [ 10%]
tests/test_config_flow.py::test_form_schema_version_set PASSED           [ 10%]
tests/test_config_flow_data_recovery.py::test_data_recovery_step_with_existing_storage PASSED [ 10%]
tests/test_config_flow_data_recovery.py::test_normal_flow_without_existing_storage PASSED [ 10%]
tests/test_config_flow_data_recovery.py::test_start_fresh_creates_backup_and_deletes_storage PASSED [ 11%]
tests/test_config_flow_data_recovery.py::test_start_fresh_handles_missing_file_gracefully PASSED [ 11%]
tests/test_config_flow_data_recovery.py::test_use_current_creates_entry_immediately PASSED [ 11%]
tests/test_config_flow_data_recovery.py::test_use_current_detects_corrupt_json PASSED [ 11%]
tests/test_config_flow_data_recovery.py::test_use_current_detects_invalid_structure PASSED [ 11%]
tests/test_config_flow_data_recovery.py::test_restore_from_backup_creates_entry_immediately PASSED [ 12%]
tests/test_config_flow_data_recovery.py::test_restore_from_backup_validates_backup_file PASSED [ 12%]
tests/test_config_flow_data_recovery.py::test_restore_handles_missing_backup_file PASSED [ 12%]
tests/test_config_flow_data_recovery.py::test_paste_json_shows_input_form PASSED [ 12%]
tests/test_config_flow_data_recovery.py::test_paste_json_with_wrapped_v42_data PASSED [ 12%]
tests/test_config_flow_data_recovery.py::test_paste_json_with_raw_v41_data PASSED [ 12%]
tests/test_config_flow_data_recovery.py::test_paste_json_with_empty_input PASSED [ 13%]
tests/test_config_flow_data_recovery.py::test_paste_json_with_invalid_json PASSED [ 13%]
tests/test_config_flow_data_recovery.py::test_paste_json_with_invalid_structure PASSED [ 13%]
tests/test_config_flow_data_recovery.py::test_paste_json_with_diagnostic_format PASSED [ 13%]
tests/test_config_flow_data_recovery.py::test_data_recovery_menu_without_storage_file PASSED [ 13%]
tests/test_config_flow_data_recovery.py::test_restore_v41_backup_migrates_to_v42 PASSED [ 14%]
tests/test_config_flow_data_recovery.py::test_restore_v42_backup_no_migration_needed PASSED [ 14%]
tests/test_config_flow_data_recovery.py::test_invalid_selection_value PASSED [ 14%]
tests/test_config_flow_data_recovery.py::test_restore_backup_creates_kid_entities PASSED [ 14%]
tests/test_config_flow_data_recovery.py::test_restore_v41_backup_migrates_and_creates_entities PASSED [ 14%]
tests/test_config_flow_direct_to_storage.py::test_direct_storage_creates_one_parent_one_kid_one_chore PASSED [ 15%]
tests/test_config_flow_use_existing.py::test_config_flow_use_existing_v40beta1 PASSED [ 15%]
tests/test_config_flow_use_existing.py::test_config_flow_use_existing_v30 PASSED [ 15%]
tests/test_config_flow_use_existing.py::test_config_flow_use_existing_already_wrapped PASSED [ 15%]
tests/test_coordinator.py::test_chore_lifecycle_complete_workflow PASSED [ 15%]
tests/test_coordinator.py::test_points_management_flow PASSED            [ 15%]
tests/test_coordinator.py::test_reward_approval_workflow PASSED          [ 16%]
tests/test_coordinator.py::test_kid_device_name_updates_immediately PASSED [ 16%]
tests/test_coordinator.py::test_config_entry_title_updates_device_names PASSED [ 16%]
tests/test_dashboard_templates.py::TestDashboardWelcomeCard::test_welcome_card_renders PASSED [ 16%]
tests/test_dashboard_templates.py::TestDashboardWelcomeCard::test_welcome_card_handles_missing_data PASSED [ 16%]
tests/test_dashboard_templates.py::TestDashboardChoresCard::test_chores_card_renders PASSED [ 17%]
tests/test_dashboard_templates.py::TestDashboardChoresCard::test_chores_card_processes_state_colors PASSED [ 17%]
tests/test_dashboard_templates.py::TestDashboardChoresCard::test_chores_card_identifies_overdue PASSED [ 17%]
tests/test_dashboard_templates.py::TestDashboardRewardsCard::test_rewards_card_renders PASSED [ 17%]
tests/test_dashboard_templates.py::TestDashboardBadgesCard::test_badges_card_renders PASSED [ 17%]
tests/test_dashboard_templates.py::TestDashboardBadgesCard::test_badges_maintenance_status PASSED [ 17%]
tests/test_dashboard_templates.py::TestDashboardTranslations::test_translations_loaded_from_helper PASSED [ 18%]
tests/test_dashboard_templates.py::TestDashboardTranslations::test_missing_translation_shows_error_key PASSED [ 18%]
tests/test_dashboard_templates.py::TestDashboardFilters::test_slugify_filter PASSED [ 18%]
tests/test_dashboard_templates.py::TestDashboardFilters::test_int_filter_with_default PASSED [ 18%]
tests/test_dashboard_templates.py::TestDashboardFilters::test_datetime_parsing PASSED [ 18%]
tests/test_dashboard_templates.py::TestDashboardComplexScenarios::test_empty_chore_list PASSED [ 19%]
tests/test_dashboard_templates.py::TestDashboardComplexScenarios::test_multiple_kids_filtering PASSED [ 19%]
tests/test_dashboard_templates.py::TestDashboardComplexScenarios::test_chores_by_label_grouping PASSED [ 19%]
tests/test_dashboard_templates.py::test_full_dashboard_integration PASSED [ 19%]
tests/test_dashboard_templates.py::TestDashboardPreferenceValidation::test_preference_partial_string_input PASSED [ 19%]
tests/test_dashboard_templates.py::TestDashboardPreferenceValidation::test_preference_valid_boolean_strings PASSED [ 20%]
tests/test_dashboard_templates.py::TestDashboardPreferenceValidation::test_all_preferences_safe_coercion PASSED [ 20%]
tests/test_dashboard_templates.py::TestDashboardApprovalButtonsFullCard::test_approval_card_full_render_with_claimed_chore PASSED [ 20%]
tests/test_dashboard_templates.py::TestDashboardApprovalButtonsCard::test_approval_buttons_with_claimed_chore PASSED [ 20%]
tests/test_dashboard_templates.py::TestDashboardApprovalButtonsCard::test_approval_buttons_empty_when_no_pending PASSED [ 20%]
tests/test_dashboard_templates.py::TestDashboardApprovalButtonsCard::test_approval_buttons_missing_button_eid PASSED [ 20%]
tests/test_datetime_entity.py::test_datetime_entity_created_for_each_kid PASSED [ 21%]
tests/test_datetime_entity.py::test_datetime_entity_has_device_info PASSED [ 21%]
tests/test_datetime_entity.py::test_datetime_entity_default_value PASSED [ 21%]
tests/test_datetime_entity.py::test_datetime_entity_set_value PASSED     [ 21%]
tests/test_datetime_entity.py::test_datetime_entity_extra_attributes PASSED [ 21%]
tests/test_datetime_helpers_comprehensive.py::TestBasicGetters::test_get_today_local_date[America/New_York] PASSED [ 22%]
tests/test_datetime_helpers_comprehensive.py::TestBasicGetters::test_get_today_local_date[Europe/London] PASSED [ 22%]
tests/test_datetime_helpers_comprehensive.py::TestBasicGetters::test_get_today_local_date[Asia/Tokyo] PASSED [ 22%]
tests/test_datetime_helpers_comprehensive.py::TestBasicGetters::test_get_today_local_date[Australia/Sydney] PASSED [ 22%]
tests/test_datetime_helpers_comprehensive.py::TestBasicGetters::test_get_today_local_date[UTC] PASSED [ 22%]
tests/test_datetime_helpers_comprehensive.py::TestBasicGetters::test_get_today_local_iso[America/New_York] PASSED [ 23%]
tests/test_datetime_helpers_comprehensive.py::TestBasicGetters::test_get_today_local_iso[Europe/London] PASSED [ 23%]
tests/test_datetime_helpers_comprehensive.py::TestBasicGetters::test_get_today_local_iso[Asia/Tokyo] PASSED [ 23%]
tests/test_datetime_helpers_comprehensive.py::TestBasicGetters::test_get_today_local_iso[Australia/Sydney] PASSED [ 23%]
tests/test_datetime_helpers_comprehensive.py::TestBasicGetters::test_get_today_local_iso[UTC] PASSED [ 23%]
tests/test_datetime_helpers_comprehensive.py::TestBasicGetters::test_get_now_local_time[America/New_York] PASSED [ 23%]
tests/test_datetime_helpers_comprehensive.py::TestBasicGetters::test_get_now_local_time[Europe/London] PASSED [ 24%]
tests/test_datetime_helpers_comprehensive.py::TestBasicGetters::test_get_now_local_time[Asia/Tokyo] PASSED [ 24%]
tests/test_datetime_helpers_comprehensive.py::TestBasicGetters::test_get_now_local_time[Australia/Sydney] PASSED [ 24%]
tests/test_datetime_helpers_comprehensive.py::TestBasicGetters::test_get_now_local_time[UTC] PASSED [ 24%]
tests/test_datetime_helpers_comprehensive.py::TestBasicGetters::test_get_now_local_iso[America/New_York] PASSED [ 24%]
tests/test_datetime_helpers_comprehensive.py::TestBasicGetters::test_get_now_local_iso[Europe/London] PASSED [ 25%]
tests/test_datetime_helpers_comprehensive.py::TestBasicGetters::test_get_now_local_iso[Asia/Tokyo] PASSED [ 25%]
tests/test_datetime_helpers_comprehensive.py::TestBasicGetters::test_get_now_local_iso[Australia/Sydney] PASSED [ 25%]
tests/test_datetime_helpers_comprehensive.py::TestBasicGetters::test_get_now_local_iso[UTC] PASSED [ 25%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeParsing::test_parse_datetime_to_utc_iso_with_tz[America/New_York] PASSED [ 25%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeParsing::test_parse_datetime_to_utc_iso_with_tz[Europe/London] PASSED [ 25%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeParsing::test_parse_datetime_to_utc_iso_with_tz[Asia/Tokyo] PASSED [ 26%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeParsing::test_parse_datetime_to_utc_iso_with_tz[Australia/Sydney] PASSED [ 26%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeParsing::test_parse_datetime_to_utc_iso_with_tz[UTC] PASSED [ 26%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeParsing::test_parse_datetime_to_utc_iso_without_tz[America/New_York] PASSED [ 26%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeParsing::test_parse_datetime_to_utc_iso_without_tz[Europe/London] PASSED [ 26%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeParsing::test_parse_datetime_to_utc_iso_without_tz[Asia/Tokyo] PASSED [ 27%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeParsing::test_parse_datetime_to_utc_iso_without_tz[Australia/Sydney] PASSED [ 27%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeParsing::test_parse_datetime_to_utc_iso_without_tz[UTC] PASSED [ 27%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeParsing::test_parse_datetime_to_utc_invalid_inputs PASSED [ 27%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeParsing::test_parse_date_safe_valid_formats PASSED [ 27%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeParsing::test_parse_date_safe_invalid_inputs PASSED [ 28%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeFormatting::test_format_datetime_return_unchanged[America/New_York] PASSED [ 28%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeFormatting::test_format_datetime_return_unchanged[Europe/London] PASSED [ 28%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeFormatting::test_format_datetime_return_unchanged[Asia/Tokyo] PASSED [ 28%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeFormatting::test_format_datetime_return_unchanged[Australia/Sydney] PASSED [ 28%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeFormatting::test_format_datetime_return_unchanged[UTC] PASSED [ 28%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeFormatting::test_format_datetime_return_utc[America/New_York] PASSED [ 29%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeFormatting::test_format_datetime_return_utc[Europe/London] PASSED [ 29%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeFormatting::test_format_datetime_return_utc[Asia/Tokyo] PASSED [ 29%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeFormatting::test_format_datetime_return_utc[Australia/Sydney] PASSED [ 29%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeFormatting::test_format_datetime_return_utc[UTC] PASSED [ 29%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeFormatting::test_format_datetime_return_local[America/New_York] PASSED [ 30%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeFormatting::test_format_datetime_return_local[Europe/London] PASSED [ 30%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeFormatting::test_format_datetime_return_local[Asia/Tokyo] PASSED [ 30%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeFormatting::test_format_datetime_return_local[Australia/Sydney] PASSED [ 30%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeFormatting::test_format_datetime_return_local[UTC] PASSED [ 30%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeFormatting::test_format_datetime_return_date[America/New_York] PASSED [ 30%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeFormatting::test_format_datetime_return_date[Europe/London] PASSED [ 31%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeFormatting::test_format_datetime_return_date[Asia/Tokyo] PASSED [ 31%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeFormatting::test_format_datetime_return_date[Australia/Sydney] PASSED [ 31%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeFormatting::test_format_datetime_return_date[UTC] PASSED [ 31%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeFormatting::test_format_datetime_return_iso_datetime[America/New_York] PASSED [ 31%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeFormatting::test_format_datetime_return_iso_datetime[Europe/London] PASSED [ 32%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeFormatting::test_format_datetime_return_iso_datetime[Asia/Tokyo] PASSED [ 32%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeFormatting::test_format_datetime_return_iso_datetime[Australia/Sydney] PASSED [ 32%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeFormatting::test_format_datetime_return_iso_datetime[UTC] PASSED [ 32%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeFormatting::test_format_datetime_return_iso_date[America/New_York] PASSED [ 32%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeFormatting::test_format_datetime_return_iso_date[Europe/London] PASSED [ 33%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeFormatting::test_format_datetime_return_iso_date[Asia/Tokyo] PASSED [ 33%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeFormatting::test_format_datetime_return_iso_date[Australia/Sydney] PASSED [ 33%]
tests/test_datetime_helpers_comprehensive.py::TestDateTimeFormatting::test_format_datetime_return_iso_date[UTC] PASSED [ 33%]
tests/test_datetime_helpers_comprehensive.py::TestNormalizeDatetimeInput::test_normalize_string_iso_date[America/New_York] PASSED [ 33%]
tests/test_datetime_helpers_comprehensive.py::TestNormalizeDatetimeInput::test_normalize_string_iso_date[Europe/London] PASSED [ 33%]
tests/test_datetime_helpers_comprehensive.py::TestNormalizeDatetimeInput::test_normalize_string_iso_date[Asia/Tokyo] PASSED [ 34%]
tests/test_datetime_helpers_comprehensive.py::TestNormalizeDatetimeInput::test_normalize_string_iso_date[Australia/Sydney] PASSED [ 34%]
tests/test_datetime_helpers_comprehensive.py::TestNormalizeDatetimeInput::test_normalize_string_iso_date[UTC] PASSED [ 34%]
tests/test_datetime_helpers_comprehensive.py::TestNormalizeDatetimeInput::test_normalize_string_iso_datetime[America/New_York] PASSED [ 34%]
tests/test_datetime_helpers_comprehensive.py::TestNormalizeDatetimeInput::test_normalize_string_iso_datetime[Europe/London] PASSED [ 34%]
tests/test_datetime_helpers_comprehensive.py::TestNormalizeDatetimeInput::test_normalize_string_iso_datetime[Asia/Tokyo] PASSED [ 35%]
tests/test_datetime_helpers_comprehensive.py::TestNormalizeDatetimeInput::test_normalize_string_iso_datetime[Australia/Sydney] PASSED [ 35%]
tests/test_datetime_helpers_comprehensive.py::TestNormalizeDatetimeInput::test_normalize_string_iso_datetime[UTC] PASSED [ 35%]
tests/test_datetime_helpers_comprehensive.py::TestNormalizeDatetimeInput::test_normalize_date_object[America/New_York] PASSED [ 35%]
tests/test_datetime_helpers_comprehensive.py::TestNormalizeDatetimeInput::test_normalize_date_object[Europe/London] PASSED [ 35%]
tests/test_datetime_helpers_comprehensive.py::TestNormalizeDatetimeInput::test_normalize_date_object[Asia/Tokyo] PASSED [ 35%]
tests/test_datetime_helpers_comprehensive.py::TestNormalizeDatetimeInput::test_normalize_date_object[Australia/Sydney] PASSED [ 36%]
tests/test_datetime_helpers_comprehensive.py::TestNormalizeDatetimeInput::test_normalize_date_object[UTC] PASSED [ 36%]
tests/test_datetime_helpers_comprehensive.py::TestNormalizeDatetimeInput::test_normalize_datetime_naive[America/New_York] PASSED [ 36%]
tests/test_datetime_helpers_comprehensive.py::TestNormalizeDatetimeInput::test_normalize_datetime_naive[Europe/London] PASSED [ 36%]
tests/test_datetime_helpers_comprehensive.py::TestNormalizeDatetimeInput::test_normalize_datetime_naive[Asia/Tokyo] PASSED [ 36%]
tests/test_datetime_helpers_comprehensive.py::TestNormalizeDatetimeInput::test_normalize_datetime_naive[Australia/Sydney] PASSED [ 37%]
tests/test_datetime_helpers_comprehensive.py::TestNormalizeDatetimeInput::test_normalize_datetime_naive[UTC] PASSED [ 37%]
tests/test_datetime_helpers_comprehensive.py::TestNormalizeDatetimeInput::test_normalize_datetime_aware[America/New_York] PASSED [ 37%]
tests/test_datetime_helpers_comprehensive.py::TestNormalizeDatetimeInput::test_normalize_datetime_aware[Europe/London] PASSED [ 37%]
tests/test_datetime_helpers_comprehensive.py::TestNormalizeDatetimeInput::test_normalize_datetime_aware[Asia/Tokyo] PASSED [ 37%]
tests/test_datetime_helpers_comprehensive.py::TestNormalizeDatetimeInput::test_normalize_datetime_aware[Australia/Sydney] PASSED [ 38%]
tests/test_datetime_helpers_comprehensive.py::TestNormalizeDatetimeInput::test_normalize_datetime_aware[UTC] PASSED [ 38%]
tests/test_datetime_helpers_comprehensive.py::TestNormalizeDatetimeInput::test_normalize_all_return_types[America/New_York] PASSED [ 38%]
tests/test_datetime_helpers_comprehensive.py::TestNormalizeDatetimeInput::test_normalize_all_return_types[Europe/London] PASSED [ 38%]
tests/test_datetime_helpers_comprehensive.py::TestNormalizeDatetimeInput::test_normalize_all_return_types[Asia/Tokyo] PASSED [ 38%]
tests/test_datetime_helpers_comprehensive.py::TestNormalizeDatetimeInput::test_normalize_all_return_types[Australia/Sydney] PASSED [ 38%]
tests/test_datetime_helpers_comprehensive.py::TestNormalizeDatetimeInput::test_normalize_all_return_types[UTC] PASSED [ 39%]
tests/test_datetime_helpers_comprehensive.py::TestNormalizeDatetimeInput::test_normalize_invalid_inputs PASSED [ 39%]
tests/test_datetime_helpers_comprehensive.py::TestIntervalAdjustments::test_adjust_by_days_positive[America/New_York] PASSED [ 39%]
tests/test_datetime_helpers_comprehensive.py::TestIntervalAdjustments::test_adjust_by_days_positive[Europe/London] PASSED [ 39%]
tests/test_datetime_helpers_comprehensive.py::TestIntervalAdjustments::test_adjust_by_days_positive[Asia/Tokyo] PASSED [ 39%]
tests/test_datetime_helpers_comprehensive.py::TestIntervalAdjustments::test_adjust_by_days_positive[Australia/Sydney] PASSED [ 40%]
tests/test_datetime_helpers_comprehensive.py::TestIntervalAdjustments::test_adjust_by_days_positive[UTC] PASSED [ 40%]
tests/test_datetime_helpers_comprehensive.py::TestIntervalAdjustments::test_adjust_by_days_negative[America/New_York] PASSED [ 40%]
tests/test_datetime_helpers_comprehensive.py::TestIntervalAdjustments::test_adjust_by_days_negative[Europe/London] PASSED [ 40%]
tests/test_datetime_helpers_comprehensive.py::TestIntervalAdjustments::test_adjust_by_days_negative[Asia/Tokyo] PASSED [ 40%]
tests/test_datetime_helpers_comprehensive.py::TestIntervalAdjustments::test_adjust_by_days_negative[Australia/Sydney] PASSED [ 41%]
tests/test_datetime_helpers_comprehensive.py::TestIntervalAdjustments::test_adjust_by_days_negative[UTC] PASSED [ 41%]
tests/test_datetime_helpers_comprehensive.py::TestIntervalAdjustments::test_adjust_by_weeks[America/New_York] PASSED [ 41%]
tests/test_datetime_helpers_comprehensive.py::TestIntervalAdjustments::test_adjust_by_weeks[Europe/London] PASSED [ 41%]
tests/test_datetime_helpers_comprehensive.py::TestIntervalAdjustments::test_adjust_by_weeks[Asia/Tokyo] PASSED [ 41%]
tests/test_datetime_helpers_comprehensive.py::TestIntervalAdjustments::test_adjust_by_weeks[Australia/Sydney] PASSED [ 41%]
tests/test_datetime_helpers_comprehensive.py::TestIntervalAdjustments::test_adjust_by_weeks[UTC] PASSED [ 42%]
tests/test_datetime_helpers_comprehensive.py::TestIntervalAdjustments::test_adjust_by_months_no_overflow[America/New_York] PASSED [ 42%]
tests/test_datetime_helpers_comprehensive.py::TestIntervalAdjustments::test_adjust_by_months_no_overflow[Europe/London] PASSED [ 42%]
tests/test_datetime_helpers_comprehensive.py::TestIntervalAdjustments::test_adjust_by_months_no_overflow[Asia/Tokyo] PASSED [ 42%]
tests/test_datetime_helpers_comprehensive.py::TestIntervalAdjustments::test_adjust_by_months_no_overflow[Australia/Sydney] PASSED [ 42%]
tests/test_datetime_helpers_comprehensive.py::TestIntervalAdjustments::test_adjust_by_months_no_overflow[UTC] PASSED [ 43%]
tests/test_datetime_helpers_comprehensive.py::TestIntervalAdjustments::test_adjust_by_months_with_overflow[America/New_York] PASSED [ 43%]
tests/test_datetime_helpers_comprehensive.py::TestIntervalAdjustments::test_adjust_by_months_with_overflow[Europe/London] PASSED [ 43%]
tests/test_datetime_helpers_comprehensive.py::TestIntervalAdjustments::test_adjust_by_months_with_overflow[Asia/Tokyo] PASSED [ 43%]
tests/test_datetime_helpers_comprehensive.py::TestIntervalAdjustments::test_adjust_by_months_with_overflow[Australia/Sydney] PASSED [ 43%]
tests/test_datetime_helpers_comprehensive.py::TestIntervalAdjustments::test_adjust_by_months_with_overflow[UTC] PASSED [ 43%]
tests/test_datetime_helpers_comprehensive.py::TestIntervalAdjustments::test_adjust_by_months_leap_year[America/New_York] PASSED [ 44%]
tests/test_datetime_helpers_comprehensive.py::TestIntervalAdjustments::test_adjust_by_months_leap_year[Europe/London] PASSED [ 44%]
tests/test_datetime_helpers_comprehensive.py::TestIntervalAdjustments::test_adjust_by_months_leap_year[Asia/Tokyo] PASSED [ 44%]
tests/test_datetime_helpers_comprehensive.py::TestIntervalAdjustments::test_adjust_by_months_leap_year[Australia/Sydney] PASSED [ 44%]
tests/test_datetime_helpers_comprehensive.py::TestIntervalAdjustments::test_adjust_by_months_leap_year[UTC] PASSED [ 44%]
tests/test_datetime_helpers_comprehensive.py::TestEdgeCases::test_leap_year_feb_29[America/New_York] PASSED [ 45%]
tests/test_datetime_helpers_comprehensive.py::TestEdgeCases::test_leap_year_feb_29[Europe/London] PASSED [ 45%]
tests/test_datetime_helpers_comprehensive.py::TestEdgeCases::test_leap_year_feb_29[Asia/Tokyo] PASSED [ 45%]
tests/test_datetime_helpers_comprehensive.py::TestEdgeCases::test_leap_year_feb_29[Australia/Sydney] PASSED [ 45%]
tests/test_datetime_helpers_comprehensive.py::TestEdgeCases::test_leap_year_feb_29[UTC] PASSED [ 45%]
tests/test_datetime_helpers_comprehensive.py::TestEdgeCases::test_year_boundary_rollover[America/New_York] PASSED [ 46%]
tests/test_datetime_helpers_comprehensive.py::TestEdgeCases::test_year_boundary_rollover[Europe/London] PASSED [ 46%]
tests/test_datetime_helpers_comprehensive.py::TestEdgeCases::test_year_boundary_rollover[Asia/Tokyo] PASSED [ 46%]
tests/test_datetime_helpers_comprehensive.py::TestEdgeCases::test_year_boundary_rollover[Australia/Sydney] PASSED [ 46%]
tests/test_datetime_helpers_comprehensive.py::TestEdgeCases::test_year_boundary_rollover[UTC] PASSED [ 46%]
tests/test_datetime_helpers_comprehensive.py::TestEdgeCases::test_month_boundaries_all_months[America/New_York] PASSED [ 46%]
tests/test_datetime_helpers_comprehensive.py::TestEdgeCases::test_month_boundaries_all_months[Europe/London] PASSED [ 47%]
tests/test_datetime_helpers_comprehensive.py::TestEdgeCases::test_month_boundaries_all_months[Asia/Tokyo] PASSED [ 47%]
tests/test_datetime_helpers_comprehensive.py::TestEdgeCases::test_month_boundaries_all_months[Australia/Sydney] PASSED [ 47%]
tests/test_datetime_helpers_comprehensive.py::TestEdgeCases::test_month_boundaries_all_months[UTC] PASSED [ 47%]
tests/test_datetime_helpers_comprehensive.py::TestEdgeCases::test_empty_none_invalid_handling PASSED [ 47%]
tests/test_datetime_helpers_comprehensive.py::TestApplicableDays::test_next_applicable_single_day[America/New_York] PASSED [ 48%]
tests/test_datetime_helpers_comprehensive.py::TestApplicableDays::test_next_applicable_single_day[Europe/London] PASSED [ 48%]
tests/test_datetime_helpers_comprehensive.py::TestApplicableDays::test_next_applicable_single_day[Asia/Tokyo] PASSED [ 48%]
tests/test_datetime_helpers_comprehensive.py::TestApplicableDays::test_next_applicable_single_day[Australia/Sydney] PASSED [ 48%]
tests/test_datetime_helpers_comprehensive.py::TestApplicableDays::test_next_applicable_single_day[UTC] PASSED [ 48%]
tests/test_datetime_helpers_comprehensive.py::TestApplicableDays::test_next_applicable_weekdays[America/New_York] PASSED [ 48%]
tests/test_datetime_helpers_comprehensive.py::TestApplicableDays::test_next_applicable_weekdays[Europe/London] PASSED [ 49%]
tests/test_datetime_helpers_comprehensive.py::TestApplicableDays::test_next_applicable_weekdays[Asia/Tokyo] PASSED [ 49%]
tests/test_datetime_helpers_comprehensive.py::TestApplicableDays::test_next_applicable_weekdays[Australia/Sydney] PASSED [ 49%]
tests/test_datetime_helpers_comprehensive.py::TestApplicableDays::test_next_applicable_weekdays[UTC] PASSED [ 49%]
tests/test_datetime_helpers_comprehensive.py::TestApplicableDays::test_next_applicable_current_day_included[America/New_York] PASSED [ 49%]
tests/test_datetime_helpers_comprehensive.py::TestApplicableDays::test_next_applicable_current_day_included[Europe/London] PASSED [ 50%]
tests/test_datetime_helpers_comprehensive.py::TestApplicableDays::test_next_applicable_current_day_included[Asia/Tokyo] PASSED [ 50%]
tests/test_datetime_helpers_comprehensive.py::TestApplicableDays::test_next_applicable_current_day_included[Australia/Sydney] PASSED [ 50%]
tests/test_datetime_helpers_comprehensive.py::TestApplicableDays::test_next_applicable_current_day_included[UTC] PASSED [ 50%]
tests/test_datetime_helpers_comprehensive.py::TestApplicableDays::test_next_applicable_week_boundary[America/New_York] PASSED [ 50%]
tests/test_datetime_helpers_comprehensive.py::TestApplicableDays::test_next_applicable_week_boundary[Europe/London] PASSED [ 51%]
tests/test_datetime_helpers_comprehensive.py::TestApplicableDays::test_next_applicable_week_boundary[Asia/Tokyo] PASSED [ 51%]
tests/test_datetime_helpers_comprehensive.py::TestApplicableDays::test_next_applicable_week_boundary[Australia/Sydney] PASSED [ 51%]
tests/test_datetime_helpers_comprehensive.py::TestApplicableDays::test_next_applicable_week_boundary[UTC] PASSED [ 51%]
tests/test_diagnostics.py::test_config_entry_diagnostics_returns_raw_storage PASSED [ 51%]
tests/test_diagnostics.py::test_config_entry_diagnostics_has_all_storage_keys PASSED [ 51%]
tests/test_diagnostics.py::test_config_entry_diagnostics_byte_for_byte_compatibility PASSED [ 52%]
tests/test_diagnostics.py::test_device_diagnostics_returns_kid_data PASSED [ 52%]
tests/test_diagnostics.py::test_device_diagnostics_missing_kid_id PASSED [ 52%]
tests/test_diagnostics.py::test_device_diagnostics_kid_not_found PASSED  [ 52%]
tests/test_diagnostics.py::test_diagnostics_simplicity PASSED            [ 52%]
tests/test_entity_naming_final.py::test_badge_sensor_has_system_device_info PASSED [ 53%]
tests/test_entity_naming_final.py::test_kid_highest_badge_sensor_friendly_name PASSED [ 53%]
tests/test_entity_naming_final.py::test_badge_progress_sensor_has_kid_name PASSED [ 53%]
tests/test_entity_naming_final.py::test_chore_status_sensor_has_kid_name_and_device PASSED [ 53%]
tests/test_entity_naming_final.py::test_reward_status_sensor_has_kid_name PASSED [ 53%]
tests/test_entity_naming_final.py::test_penalty_applies_sensor_has_kid_name PASSED [ 53%]
tests/test_entity_naming_final.py::test_claim_chore_button_has_kid_name PASSED [ 54%]
tests/test_entity_naming_final.py::test_disapprove_chore_button_has_kid_name PASSED [ 54%]
tests/test_entity_naming_final.py::test_bonus_button_has_kid_name PASSED [ 54%]
tests/test_entity_naming_final.py::test_penalty_button_has_kid_name PASSED [ 54%]
tests/test_entity_naming_final.py::test_disapprove_reward_button_has_kid_name PASSED [ 54%]
tests/test_flow_helpers.py::test_create_timestamped_backup_success PASSED [ 55%]
tests/test_flow_helpers.py::test_create_timestamped_backup_all_tags PASSED [ 55%]
tests/test_flow_helpers.py::test_create_timestamped_backup_write_failure PASSED [ 55%]
tests/test_flow_helpers.py::test_create_timestamped_backup_no_data PASSED [ 55%]
tests/test_flow_helpers.py::test_cleanup_old_backups_respects_max_limit PASSED [ 55%]
tests/test_flow_helpers.py::test_cleanup_old_backups_never_deletes_permanent_tags PASSED [ 56%]
tests/test_flow_helpers.py::test_cleanup_old_backups_disabled_when_zero PASSED [ 56%]
tests/test_flow_helpers.py::test_cleanup_old_backups_continues_on_error PASSED [ 56%]
tests/test_flow_helpers.py::test_cleanup_old_backups_handles_non_integer_max_backups PASSED [ 56%]
tests/test_flow_helpers.py::test_format_backup_age_minutes PASSED        [ 56%]
tests/test_flow_helpers.py::test_format_backup_age_hours PASSED          [ 56%]
tests/test_flow_helpers.py::test_format_backup_age_days PASSED           [ 57%]
tests/test_flow_helpers.py::test_format_backup_age_weeks PASSED          [ 57%]
tests/test_flow_helpers.py::test_validate_backup_json_valid_minimal PASSED [ 57%]
tests/test_flow_helpers.py::test_validate_backup_json_valid_complete PASSED [ 57%]
tests/test_flow_helpers.py::test_validate_backup_json_missing_version PASSED [ 57%]
tests/test_flow_helpers.py::test_validate_backup_json_missing_entity_types PASSED [ 58%]
tests/test_flow_helpers.py::test_validate_backup_json_legacy_v3_format PASSED [ 58%]
tests/test_flow_helpers.py::test_validate_backup_json_not_dict PASSED    [ 58%]
tests/test_flow_helpers.py::test_validate_backup_json_invalid_syntax PASSED [ 58%]
tests/test_flow_helpers.py::test_validate_backup_json_empty_string PASSED [ 58%]
tests/test_flow_helpers.py::test_validate_backup_json_null_string PASSED [ 58%]
tests/test_flow_helpers.py::test_validate_backup_json_store_v1_format PASSED [ 59%]
tests/test_flow_helpers.py::test_validate_backup_json_store_v2_rejected PASSED [ 59%]
tests/test_flow_helpers.py::test_validate_backup_json_store_missing_data_wrapper PASSED [ 59%]
tests/test_kid_entity_attributes.py::test_all_kid_entities_have_kid_name_attribute PASSED [ 59%]
tests/test_kid_entity_attributes.py::test_specific_friendly_names SKIPPED [ 59%]
tests/test_kid_entity_attributes.py::test_chore_status_friendly_name PASSED [ 60%]
tests/test_kids_helpers.py::test_build_kids_data_with_all_values PASSED  [ 60%]
tests/test_kids_helpers.py::test_build_kids_data_generates_uuid_if_missing PASSED [ 60%]
tests/test_kids_helpers.py::test_build_kids_data_with_defaults PASSED    [ 60%]
tests/test_kids_helpers.py::test_build_kids_data_strips_whitespace_from_name PASSED [ 60%]
tests/test_kids_helpers.py::test_validate_kids_inputs_success PASSED     [ 61%]
tests/test_kids_helpers.py::test_validate_kids_inputs_empty_name PASSED  [ 61%]
tests/test_kids_helpers.py::test_validate_kids_inputs_whitespace_only_name PASSED [ 61%]
tests/test_kids_helpers.py::test_validate_kids_inputs_missing_name PASSED [ 61%]
tests/test_kids_helpers.py::test_validate_kids_inputs_duplicate_name PASSED [ 61%]
tests/test_kids_helpers.py::test_validate_kids_inputs_allows_same_name_when_no_existing PASSED [ 61%]
tests/test_kids_helpers.py::test_validate_kids_inputs_allows_unique_name PASSED [ 62%]
tests/test_legacy_sensors.py::test_legacy_sensors_created_when_enabled PASSED [ 62%]
tests/test_legacy_sensors.py::test_legacy_sensors_not_created_when_disabled SKIPPED [ 62%]
tests/test_legacy_sensors.py::test_legacy_sensors_removed_when_option_changed PASSED [ 62%]
tests/test_migration_samples_validation.py::test_migration_entity_counts_preserved[migration_sample_v30] PASSED [ 62%]
tests/test_migration_samples_validation.py::test_migration_entity_counts_preserved[migration_sample_v31] PASSED [ 63%]
tests/test_migration_samples_validation.py::test_migration_entity_counts_preserved[migration_sample_v40beta1] PASSED [ 63%]
tests/test_migration_samples_validation.py::test_migration_schema_version_updated[migration_sample_v30] PASSED [ 63%]
tests/test_migration_samples_validation.py::test_migration_schema_version_updated[migration_sample_v31] PASSED [ 63%]
tests/test_migration_samples_validation.py::test_migration_schema_version_updated[migration_sample_v40beta1] PASSED [ 63%]
tests/test_migration_samples_validation.py::test_migration_kid_required_fields[migration_sample_v30] PASSED [ 64%]
tests/test_migration_samples_validation.py::test_migration_kid_required_fields[migration_sample_v31] PASSED [ 64%]
tests/test_migration_samples_validation.py::test_migration_kid_required_fields[migration_sample_v40beta1] PASSED [ 64%]
tests/test_migration_samples_validation.py::test_migration_kid_cumulative_badge_progress[migration_sample_v30] PASSED [ 64%]
tests/test_migration_samples_validation.py::test_migration_kid_cumulative_badge_progress[migration_sample_v31] PASSED [ 64%]
tests/test_migration_samples_validation.py::test_migration_kid_cumulative_badge_progress[migration_sample_v40beta1] PASSED [ 64%]
tests/test_migration_samples_validation.py::test_migration_chore_required_fields[migration_sample_v30] PASSED [ 65%]
tests/test_migration_samples_validation.py::test_migration_chore_required_fields[migration_sample_v31] PASSED [ 65%]
tests/test_migration_samples_validation.py::test_migration_chore_required_fields[migration_sample_v40beta1] PASSED [ 65%]
tests/test_migration_samples_validation.py::test_migration_badge_required_fields[migration_sample_v30] PASSED [ 65%]
tests/test_migration_samples_validation.py::test_migration_badge_required_fields[migration_sample_v31] PASSED [ 65%]
tests/test_migration_samples_validation.py::test_migration_badge_required_fields[migration_sample_v40beta1] PASSED [ 66%]
tests/test_migration_samples_validation.py::test_migration_kid_points_preserved[migration_sample_v30] PASSED [ 66%]
tests/test_migration_samples_validation.py::test_migration_kid_points_preserved[migration_sample_v31] PASSED [ 66%]
tests/test_migration_samples_validation.py::test_migration_kid_points_preserved[migration_sample_v40beta1] PASSED [ 66%]
tests/test_migration_samples_validation.py::test_migration_chore_assignments_preserved[migration_sample_v30] PASSED [ 66%]
tests/test_migration_samples_validation.py::test_migration_chore_assignments_preserved[migration_sample_v31] PASSED [ 66%]
tests/test_migration_samples_validation.py::test_migration_chore_assignments_preserved[migration_sample_v40beta1] PASSED [ 67%]
tests/test_migration_samples_validation.py::test_migration_datetime_format[migration_sample_v30] PASSED [ 67%]
tests/test_migration_samples_validation.py::test_migration_datetime_format[migration_sample_v31] PASSED [ 67%]
tests/test_migration_samples_validation.py::test_migration_datetime_format[migration_sample_v40beta1] PASSED [ 67%]
tests/test_migration_samples_validation.py::test_migration_v30_badges_list_to_dict PASSED [ 67%]
tests/test_migration_samples_validation.py::test_migration_v30_chore_streaks_to_chore_data PASSED [ 68%]
tests/test_options_flow.py::test_options_flow_init PASSED                [ 68%]
tests/test_options_flow.py::test_options_flow_add_kid_success PASSED     [ 68%]
tests/test_options_flow.py::test_options_flow_add_kid_duplicate_name PASSED [ 68%]
tests/test_options_flow.py::test_options_flow_back_to_main_menu PASSED   [ 68%]
tests/test_options_flow.py::test_retention_periods_consolidated_field_display PASSED [ 69%]
tests/test_options_flow.py::test_retention_periods_parse_and_store PASSED [ 69%]
tests/test_options_flow.py::test_retention_periods_invalid_format_validation PASSED [ 69%]
tests/test_options_flow.py::test_retention_periods_zero_disables_cleanup PASSED [ 69%]
tests/test_options_flow.py::test_restore_backup_via_options_lists_available PASSED [ 69%]
tests/test_options_flow.py::test_restore_backup_no_backups_available PASSED [ 69%]
tests/test_options_flow_backup_actions.py::test_backup_action_selection_visible_in_form PASSED [ 70%]
tests/test_options_flow_backup_actions.py::test_view_backups_loads_backup_list PASSED [ 70%]
tests/test_options_flow_backup_actions.py::test_backup_cleanup_recovery_tags PASSED [ 70%]
tests/test_options_flow_backup_actions.py::test_backup_cleanup_reset_tags PASSED [ 70%]
tests/test_options_flow_backup_actions.py::test_backup_cleanup_respects_max_retained PASSED [ 70%]
tests/test_options_flow_backup_actions.py::test_restore_backup_from_options_validates_backup_list PASSED [ 71%]
tests/test_options_flow_backup_actions.py::test_backup_action_selection_all_options_available PASSED [ 71%]
tests/test_options_flow_backup_actions.py::test_backup_file_creation_with_tags[recovery-0] PASSED [ 71%]
tests/test_options_flow_backup_actions.py::test_backup_file_creation_with_tags[recovery-5] PASSED [ 71%]
tests/test_options_flow_backup_actions.py::test_backup_file_creation_with_tags[reset-0] PASSED [ 71%]
tests/test_options_flow_backup_actions.py::test_backup_file_creation_with_tags[reset-7] PASSED [ 71%]
tests/test_options_flow_backup_actions.py::test_backup_file_creation_with_tags[manual-0] PASSED [ 72%]
tests/test_options_flow_backup_actions.py::test_backup_cleanup_mixed_tags PASSED [ 72%]
tests/test_options_flow_comprehensive.py::test_options_flow_add_parent PASSED [ 72%]
tests/test_options_flow_comprehensive.py::test_options_flow_add_chore PASSED [ 72%]
tests/test_options_flow_comprehensive.py::test_options_flow_add_reward PASSED [ 72%]
tests/test_options_flow_comprehensive.py::test_options_flow_add_bonus PASSED [ 73%]
tests/test_options_flow_comprehensive.py::test_options_flow_add_penalty PASSED [ 73%]
tests/test_options_flow_comprehensive.py::test_options_flow_add_badge_cumulative PASSED [ 73%]
tests/test_options_flow_comprehensive.py::test_options_flow_add_badge_periodic PASSED [ 73%]
tests/test_options_flow_comprehensive.py::test_options_flow_add_achievement PASSED [ 73%]
tests/test_options_flow_comprehensive.py::test_options_flow_add_challenge PASSED [ 74%]
tests/test_options_flow_comprehensive.py::test_options_flow_edit_achievement PASSED [ 74%]
tests/test_options_flow_comprehensive.py::test_options_flow_edit_challenge PASSED [ 74%]
tests/test_options_flow_comprehensive.py::test_options_flow_edit_chore_preserves_assigned_kids PASSED [ 74%]
tests/test_options_flow_comprehensive.py::test_options_flow_reward_sensor_creation_and_update PASSED [ 74%]
tests/test_options_flow_comprehensive.py::test_options_flow_chore_assignment_change_removes_old_sensors PASSED [ 74%]
tests/test_options_flow_restore.py::test_options_flow_restore_menu_navigation PASSED [ 75%]
tests/test_options_flow_restore.py::test_options_flow_restore_backup_navigation PASSED [ 75%]
tests/test_options_flow_restore.py::test_options_flow_paste_json_option_available PASSED [ 75%]
tests/test_options_flow_restore.py::test_options_flow_paste_json_empty_shows_error PASSED [ 75%]
tests/test_options_flow_restore.py::test_options_flow_paste_invalid_json_shows_error PASSED [ 75%]
tests/test_options_flow_restore.py::test_options_flow_paste_json_with_diagnostic_format PASSED [ 76%]
tests/test_options_flow_restore.py::test_options_flow_paste_json_with_store_format PASSED [ 76%]
tests/test_options_flow_restore.py::test_options_flow_start_fresh_navigation PASSED [ 76%]
tests/test_options_flow_restore.py::test_options_flow_start_fresh_works PASSED [ 76%]
tests/test_options_flow_restore.py::test_options_flow_restore_cancel_returns_to_menu PASSED [ 76%]
tests/test_options_flow_restore.py::test_options_flow_restore_cancel_shows_cancel_option PASSED [ 76%]
tests/test_parents_helpers.py::test_build_parents_data_with_all_values PASSED [ 77%]
tests/test_parents_helpers.py::test_build_parents_data_generates_uuid_if_missing PASSED [ 77%]
tests/test_parents_helpers.py::test_build_parents_data_with_defaults PASSED [ 77%]
tests/test_parents_helpers.py::test_build_parents_data_strips_whitespace_from_name PASSED [ 77%]
tests/test_parents_helpers.py::test_build_parents_data_with_empty_associated_kids PASSED [ 77%]
tests/test_parents_helpers.py::test_validate_parents_inputs_success PASSED [ 78%]
tests/test_parents_helpers.py::test_validate_parents_inputs_empty_name PASSED [ 78%]
tests/test_parents_helpers.py::test_validate_parents_inputs_whitespace_only_name PASSED [ 78%]
tests/test_parents_helpers.py::test_validate_parents_inputs_missing_name PASSED [ 78%]
tests/test_parents_helpers.py::test_validate_parents_inputs_duplicate_name PASSED [ 78%]
tests/test_parents_helpers.py::test_validate_parents_inputs_allows_same_name_when_no_existing PASSED [ 79%]
tests/test_parents_helpers.py::test_validate_parents_inputs_allows_unique_name PASSED [ 79%]
tests/test_pending_approvals_consolidation.py::test_dashboard_helper_includes_pending_approvals PASSED [ 79%]
tests/test_pending_approvals_consolidation.py::test_pending_approvals_structure PASSED [ 79%]
tests/test_pending_approvals_consolidation.py::test_pending_approvals_updated_after_claim PASSED [ 79%]
tests/test_pending_approvals_consolidation.py::test_pending_approval_cleared_on_approve PASSED [ 79%]
tests/test_points_button_entity_ids.py::test_points_button_entity_id_pattern PASSED [ 80%]
tests/test_points_button_entity_ids.py::test_bonus_button_suffix_stripping PASSED [ 80%]
tests/test_points_helpers.py::test_build_points_schema_default_values PASSED [ 80%]
tests/test_points_helpers.py::test_build_points_schema_custom_defaults PASSED [ 80%]
tests/test_points_helpers.py::test_build_points_data_with_values PASSED  [ 80%]
tests/test_points_helpers.py::test_build_points_data_with_defaults PASSED [ 81%]
tests/test_points_helpers.py::test_validate_points_inputs_success PASSED [ 81%]
tests/test_points_helpers.py::test_validate_points_inputs_empty_label PASSED [ 81%]
tests/test_points_helpers.py::test_validate_points_inputs_whitespace_only_label PASSED [ 81%]
tests/test_points_helpers.py::test_validate_points_inputs_missing_label PASSED [ 81%]
tests/test_reset_all_data_entity_cleanup.py::test_reset_all_data_cleans_entity_registry PASSED [ 82%]
tests/test_reset_all_data_entity_cleanup.py::test_reset_all_data_with_multiple_kids_no_duplicates PASSED [ 82%]
tests/test_scenario_baseline.py::test_minimal_scenario_entity_counts PASSED [ 82%]
tests/test_scenario_baseline.py::test_medium_scenario_entity_counts PASSED [ 82%]
tests/test_scenario_baseline.py::test_full_scenario_entity_counts PASSED [ 82%]
tests/test_scenario_baseline.py::test_scenario_progress_state_applied PASSED [ 82%]
tests/test_scenario_baseline.py::test_scenario_kid_assignments PASSED    [ 83%]
tests/test_scenario_baseline.py::test_scenario_special_characters PASSED [ 83%]
tests/test_scenario_baseline.py::test_dashboard_helper_sensor_exists PASSED [ 83%]
tests/test_scenario_baseline.py::test_dashboard_helper_chores_attribute SKIPPED [ 83%]
tests/test_scenario_baseline.py::test_dashboard_helper_ui_translations SKIPPED [ 83%]
tests/test_sensor_values.py::test_completed_chores_daily_sensor_increments_on_approval PASSED [ 84%]
tests/test_sensor_values.py::test_completed_chores_total_sensor_attributes PASSED [ 84%]
tests/test_sensor_values.py::test_kid_points_sensor_attributes PASSED    [ 84%]
tests/test_sensor_values.py::test_achievement_sensor_percentage_calculation SKIPPED [ 84%]
tests/test_sensor_values.py::test_badge_sensor_reads_from_new_schema PASSED [ 84%]
tests/test_sensor_values.py::test_challenge_sensor_reads_from_new_schema SKIPPED [ 84%]
tests/test_sensor_values.py::test_completed_chores_sensors_use_new_schema[daily-approved_today] PASSED [ 85%]
tests/test_sensor_values.py::test_completed_chores_sensors_use_new_schema[weekly-approved_week] PASSED [ 85%]
tests/test_sensor_values.py::test_completed_chores_sensors_use_new_schema[monthly-approved_month] PASSED [ 85%]
tests/test_sensor_values.py::test_points_earned_sensors_use_new_schema[daily-points_net_today] PASSED [ 85%]
tests/test_sensor_values.py::test_points_earned_sensors_use_new_schema[weekly-points_net_week] PASSED [ 85%]
tests/test_sensor_values.py::test_points_earned_sensors_use_new_schema[monthly-points_net_month] PASSED [ 86%]
tests/test_sensor_values.py::test_helper_get_kid_by_name_demonstration PASSED [ 86%]
tests/test_sensor_values.py::test_helper_get_chore_by_name_demonstration PASSED [ 86%]
tests/test_sensor_values.py::test_helper_create_test_datetime_demonstration PASSED [ 86%]
tests/test_services.py::test_service_claim_chore_with_names PASSED       [ 86%]
tests/test_services.py::test_service_approve_chore_success PASSED        [ 87%]
tests/test_services.py::test_service_apply_bonus_and_penalty PASSED      [ 87%]
tests/test_services.py::test_service_claim_chore_invalid_kid_name PASSED [ 87%]
tests/test_services.py::test_service_claim_chore_invalid_chore_name PASSED [ 87%]
tests/test_services.py::test_service_approve_chore_invalid_kid_name PASSED [ 87%]
tests/test_services.py::test_service_approve_chore_invalid_chore_name PASSED [ 87%]
tests/test_services.py::test_service_apply_bonus_invalid_kid_name PASSED [ 88%]
tests/test_services.py::test_service_apply_bonus_invalid_bonus_name PASSED [ 88%]
tests/test_services.py::test_service_apply_penalty_invalid_penalty_name PASSED [ 88%]
tests/test_services.py::test_service_disapprove_chore_success PASSED     [ 88%]
tests/test_services.py::test_service_redeem_reward_success PASSED        [ 88%]
tests/test_services.py::test_service_disapprove_reward_success PASSED    [ 89%]
tests/test_services.py::test_service_reset_overdue_chores_all PASSED     [ 89%]
tests/test_services.py::test_service_reset_penalties_all PASSED          [ 89%]
tests/test_services.py::test_service_reset_bonuses_all PASSED            [ 89%]
tests/test_services.py::test_service_approve_reward_success PASSED       [ 89%]
tests/test_services.py::test_service_reset_rewards_all PASSED            [ 89%]
tests/test_services.py::test_service_remove_awarded_badges_all PASSED    [ 90%]
tests/test_services.py::test_service_set_chore_due_date_success PASSED   [ 90%]
tests/test_services.py::test_service_skip_chore_due_date_success PASSED  [ 90%]
tests/test_services.py::test_helper_construct_entity_id_demonstration PASSED [ 90%]
tests/test_services.py::test_helper_assert_entity_state_demonstration PASSED [ 90%]
tests/test_storage_manager.py::test_async_initialize_creates_default_structure PASSED [ 91%]
tests/test_storage_manager.py::test_async_initialize_loads_existing_data PASSED [ 91%]
tests/test_storage_manager.py::test_getter_methods_return_correct_data PASSED [ 91%]
tests/test_storage_manager.py::test_getter_methods_return_defaults_for_missing_keys PASSED [ 91%]
tests/test_storage_manager.py::test_link_user_to_kid_creates_mapping PASSED [ 91%]
tests/test_storage_manager.py::test_link_user_to_kid_updates_existing_mapping PASSED [ 92%]
tests/test_storage_manager.py::test_unlink_user_removes_mapping PASSED   [ 92%]
tests/test_storage_manager.py::test_unlink_user_handles_nonexistent_user PASSED [ 92%]
tests/test_storage_manager.py::test_unlink_user_handles_missing_linked_users_key PASSED [ 92%]
tests/test_storage_manager.py::test_get_linked_kids_returns_empty_dict_when_no_links PASSED [ 92%]
tests/test_storage_manager.py::test_async_save_success PASSED            [ 92%]
tests/test_storage_manager.py::test_async_save_handles_oserror PASSED    [ 93%]
tests/test_storage_manager.py::test_async_save_handles_typeerror PASSED  [ 93%]
tests/test_storage_manager.py::test_async_save_handles_valueerror PASSED [ 93%]
tests/test_storage_manager.py::test_async_clear_data_resets_to_default_structure PASSED [ 93%]
tests/test_storage_manager.py::test_async_clear_data_includes_schema_version PASSED [ 93%]
tests/test_storage_manager.py::test_async_delete_storage_clears_and_removes_file PASSED [ 94%]
tests/test_storage_manager.py::test_async_delete_storage_handles_missing_file PASSED [ 94%]
tests/test_storage_manager.py::test_async_delete_storage_handles_oserror PASSED [ 94%]
tests/test_storage_manager.py::test_async_update_data_updates_and_saves PASSED [ 94%]
tests/test_storage_manager.py::test_async_update_data_warns_on_unknown_key PASSED [ 94%]
tests/test_storage_manager.py::test_get_storage_path_returns_correct_path PASSED [ 94%]
tests/test_storage_manager.py::test_data_property_returns_internal_data PASSED [ 95%]
tests/test_storage_manager.py::test_set_data_replaces_entire_structure PASSED [ 95%]
tests/test_storage_manager.py::test_custom_storage_key PASSED            [ 95%]
tests/test_storage_manager.py::test_get_pending_reward_approvals_correct_spelling PASSED [ 95%]
tests/test_workflow_chore_claim.py::test_chore_claim_by_kid_updates_state PASSED [ 95%]
tests/test_workflow_chore_claim.py::test_chore_claim_points_remain_unchanged PASSED [ 96%]
tests/test_workflow_chore_claim.py::test_chore_claim_button_updates_timestamp SKIPPED [ 96%]
tests/test_workflow_chore_claim.py::test_kid_cannot_self_approve_chore PASSED [ 96%]
tests/test_workflow_chore_claim.py::test_parent_disapprove_resets_chore_state PASSED [ 96%]
tests/test_workflow_chore_claim.py::test_disapproved_chore_shows_stat SKIPPED [ 96%]
tests/test_workflow_chore_claim.py::test_parent_approve_awards_points PASSED [ 97%]
tests/test_workflow_chore_claim.py::test_parent_approve_increments_chore_count PASSED [ 97%]
tests/test_workflow_chore_claim.py::test_approved_chore_appears_in_dashboard_helper SKIPPED [ 97%]
tests/test_workflow_chore_claim.py::test_approval_triggers_cumulative_badge PASSED [ 97%]
tests/test_workflow_chore_claim.py::test_badge_award_applies_multiplier PASSED [ 97%]
tests/test_workflow_chore_claim.py::test_badge_award_reflected_in_dashboard SKIPPED [ 97%]
tests/test_workflow_parent_actions.py::test_parent_apply_penalty_button PASSED [ 98%]
tests/test_workflow_parent_actions.py::test_penalty_decrements_points PASSED [ 98%]
tests/test_workflow_parent_actions.py::test_penalty_recorded_in_history PASSED [ 98%]
tests/test_workflow_parent_actions.py::test_penalty_reflected_in_dashboard_helper PASSED [ 98%]
tests/test_workflow_parent_actions.py::test_parent_apply_bonus_button PASSED [ 98%]
tests/test_workflow_parent_actions.py::test_bonus_increments_points PASSED [ 99%]
tests/test_workflow_parent_actions.py::test_bonus_recorded_in_history PASSED [ 99%]
tests/test_workflow_parent_actions.py::test_bonus_reflected_in_dashboard_helper PASSED [ 99%]
tests/test_workflow_parent_actions.py::test_bonus_triggers_badge_threshold PASSED [ 99%]
tests/test_workflow_parent_actions.py::test_badge_multiplier_applied_after_bonus PASSED [ 99%]
tests/test_workflow_parent_actions.py::test_multiple_badges_awarded_simultaneously PASSED [100%]

============================= slowest 10 durations =============================
4.04s call     tests/test_badge_creation.py::TestBadgeCreation::test_comprehensive_badge_creation_all_types
0.54s call     tests/test_options_flow_comprehensive.py::test_options_flow_chore_assignment_change_removes_old_sensors
0.37s call     tests/test_options_flow_comprehensive.py::test_options_flow_reward_sensor_creation_and_update
0.27s call     tests/test_migration_samples_validation.py::test_migration_datetime_format[migration_sample_v40beta1]
0.27s call     tests/test_migration_samples_validation.py::test_migration_schema_version_updated[migration_sample_v40beta1]
0.27s call     tests/test_migration_samples_validation.py::test_migration_entity_counts_preserved[migration_sample_v40beta1]
0.26s call     tests/test_migration_samples_validation.py::test_migration_chore_required_fields[migration_sample_v40beta1]
0.26s call     tests/test_migration_samples_validation.py::test_migration_chore_assignments_preserved[migration_sample_v40beta1]
0.26s call     tests/test_migration_samples_validation.py::test_migration_kid_cumulative_badge_progress[migration_sample_v40beta1]
0.26s call     tests/test_migration_samples_validation.py::test_migration_kid_points_preserved[migration_sample_v40beta1]
======================= 529 passed, 10 skipped in 26.02s =======================
